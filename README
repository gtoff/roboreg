Robot Registry...

Installation instructions
-------------------------

This project requires Salt version 2016.3. The non-API parts should work with
the older 2014.1. Salt may have to be patched (apply salt-netapi.diff).
Install Salt and (optionally) deactivate the system-wide daemons to rather
control your own instances:
 $ apt-get install salt-master salt-minion salt-api
 $ update-rc.d salt-master disable; systemctl stop salt-master
 $ update-rc.d salt-minion disable; systemctl stop salt-minion
 $ sudo patch /usr/lib/python2.7/dist-packages/salt/netapi/__init__.py salt-netapi.diff

Copy roboreg.ini.dist to roboreg.ini and configure it accordingly. You MUST
also change the path in modules/ros.py (until we find a solution...)

Launch in the following order (on separate terminals):
 $ ./launch-salt-master.sh
 $ ./launch-salt-minion.sh
 $ salt-key -c config --accept $HOSTNAME

Test the functionality:
 $ ./test-scripts/salt-command.sh ls
 $ ./test-scripts/salt-roscommand.sh

To make use of the Roboreg registry, launch in addition:
 $ ./launch-salt-api.sh

Again, test the functionality (you should NOT see an unauthorized status).
Then, run the client:
 $ ./test-scripts/api-call-http.sh
 $ ./roboreg

The output of Roboreg is as follows:
 Robot ecrp / t=1465385020 / h=adbbc3 [  *]
       ^name  ^timestamp     ^hash    ^liveliness

Notice how mutual exclusion is realised with "roboreg show $HOSTNAME".

Source the syntax auto-completion in bash:
 $ . roboreg.bashcompletion
Alternatively, copy the file permanently to /etc/bash_completion.d/.
